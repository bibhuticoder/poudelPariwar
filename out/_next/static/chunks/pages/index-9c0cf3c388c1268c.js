(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(1241)}])},1241:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return T}});var s=t(5893),r=t(7294),a=t(9008),l=t.n(a),i={src:"/_next/static/media/old-paper.23663e1e.jpg",height:2214,width:3250,blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIAAUACAMBIgACEQEDEQH/xAAoAAEBAAAAAAAAAAAAAAAAAAAABgEBAQAAAAAAAAAAAAAAAAAABAX/2gAMAwEAAhADEAAAALgSmf/EABoQAAEFAQAAAAAAAAAAAAAAAAMAARESIzL/2gAIAQEAAT8AIbGatyv/xAAWEQADAAAAAAAAAAAAAAAAAAAAAQL/2gAIAQIBAT8Apn//xAAWEQADAAAAAAAAAAAAAAAAAAAAAQL/2gAIAQMBAT8AlH//2Q==",blurWidth:8,blurHeight:5},o=t(3750),c=t(9583),d=t(5675),u=t.n(d),A={src:"/_next/static/media/old-paper-piece.d293323e.png",height:500,width:500,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAyklEQVR42iWMwU1EMQxEx46/s39X/BVVwIUT9dEFBXCgDSrhwGkLALEkP7FjgpDmaTSa0dDL89PrIS93OS+cVXciOpdSvNt4Nw8WCn8UlvvTuuCQFcQMScD1Wh/c9yLrmm+Pq2K7Obmqzp4pqwwg0gyXv9tvkQRJiUVXTpJJRDgxYXplAJ9MDB8jAJr6hybWm/LeOnkAEQi3OqyVsG7DHOjmTfbWvFSFLC3NMQhA65ZKbTCnImbx8VPqBqIvXVQixuY+yqB8OW7nt1+mXGS1Ru4v6wAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},m=function(e){var n=e.backButton,t=e.onClose,r=void 0===t?null:t,a=e.children;return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"relative z-20 h-screen w-screen","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:[(0,s.jsx)("div",{className:"fixed bg-gray-700 bg-opacity-75 overflow-hidden h-screen w-screen left-0 top-0",onClick:r}),(0,s.jsxs)("div",{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 overflow-hidden transition-all w-full px-4 max-w-lg",children:[void 0===a?null:a,void 0!==n&&n?(0,s.jsxs)("button",{className:"m-4 mx-auto text-center flex items-center text-blue-500 bg-blue-50 px-4 py-2 rounded",onClick:r,children:[(0,s.jsx)(o.e6h,{className:"mr-2"}),(0,s.jsx)("span",{children:" पछाडि जानुहोस् "})]}):null]})]})})},h=t(5935),x=t(1818),f=function(e){var n=e.person,t=e.onClose,a=(0,r.useState)(!0),l=a[0],i=a[1],o=(0,r.useState)(!1),c=o[0],d=o[1];return(0,r.useEffect)(function(){n&&n.dob&&n.bio&&n.bio.length&&d(!0)},[]),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(m,{backButton:!0,onClose:t,children:(0,s.jsxs)("div",{className:"px-4 pt-8 pb-4 sm:p-6 sm:pb-4 text-center text-black font-Mukta",style:{backgroundImage:"url(".concat(A.src,")"),backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"},children:[(0,s.jsx)("div",{className:"m-8"}),l&&(0,s.jsx)(u(),{src:"/images/".concat(n.id,".jpg")||0,width:"120",height:"120",alt:"फेला परेन",className:"rounded-full object-cover",onError:function(){return i(!1)}}),(0,s.jsx)("h1",{className:"text-4xl mt-4 font-semibold",children:n.name}),n.age&&(0,s.jsx)("p",{className:"mt-2",children:n.dod?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"bg-gray-200 px-2 rounded-md mr-2",children:n.age.lifespan}),(0,s.jsx)("span",{className:"bg-gray-200 px-2 rounded-md",children:n.age.age})]}):(0,s.jsx)("span",{className:"bg-gray-200 px-2 rounded-md",children:n.age})}),(0,s.jsx)("p",{className:"text-xl mt-8 max-h-80 overflow-y-auto text-left px-4 mb-4",children:n.bio&&(0,h.ZP)(n.bio)}),c?null:(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("p",{className:"my-4 text-xl",children:["कृपया \xa0",(0,s.jsx)("a",{href:"https://forms.gle/wekzeMbY77AZdQR56",target:"_blank",rel:"noreferrer",className:"site-link",children:"फारम भर्नुहोस्"}),"\xa0 र आफ्नो जानकारी पूरा गर्नुहोस् ।"]})}),(0,s.jsxs)("div",{className:"flex justify-center",children:[(0,s.jsx)(x.Dk,{url:location.href,hashtag:"#bibhuti.me",children:(0,s.jsx)(x.Vq,{size:32,round:!0})}),(0,s.jsx)("div",{className:"m-2"}),(0,s.jsx)(x.B,{url:location.href,children:(0,s.jsx)(x.Zm,{size:32,round:!0})})]})]})})})},g=t(9306),p=t.n(g),b=t(3162),v=function(e){var n=e.familyTreeRef,t=void 0===n?null:n,a=e.onClose,l=(0,r.useState)(!1),i=l[0],c=l[1],d=function(){c(!0),p().toBlob(t,{width:t.scrollWidth,height:t.scrollHeight}).then(function(e){(0,b.saveAs)(e,"poudyal-pariwar-tree.png"),c(!1)}).catch(function(e){console.error("oops, something went wrong!",e),c(!1)})},u=i?(0,s.jsxs)("p",{children:["डाउनलोड गर्न तयारी गर्दै...",(0,s.jsx)("br",{}),"यो पूरा हुन केही मिनेट लाग्नेछ"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"text-2xl text-center mb-4",children:"सम्पुर्ण बंसावली डाउनलोड गर्न तलको बटनमा क्लिक गर्नुहोस्"}),(0,s.jsxs)("button",{className:"px-4 py-2 rounded-md bg-gray-400 text-white flex items-center mx-auto",onClick:d,children:[(0,s.jsx)(o.eEq,{})," ",(0,s.jsx)("span",{className:"ml-2",children:"डाउनलोड"})]})]});return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(m,{backButton:!0,onClose:void 0===a?null:a,children:(0,s.jsx)("div",{className:"text-center text-black font-Mukta bg-white rounded-md p-4",children:u})})})},j=t(1799),w=t(381),y=t.n(w),N=function(e){if(!e)return null;var n={0:"०",1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९"};return e.split("").map(function(e){return n[e]||e}).join("")},k=t(7856),E={data:function(e){var n;if(e.dob&&!e.dod&&(e.age=N((n=e.dob,y()().diff(y()(n,"YYYY/MM/DD"),"years",!1)).toString())+" वर्ष"),e.dob&&e.dod){var t,s,r=N(e.dob),a=N(e.dod);e.hasAccurateAge||(r=null==r?void 0:r.split("-").shift(),a=null==a?void 0:a.split("-").shift());var l=N((t=e.dob,s=e.dod,y()(s,"YYYY/MM/DD").diff(y()(t,"YYYY/MM/DD"),"years",!1)).toString())+" वर्ष";e.age={lifespan:"".concat(r," - ").concat(a),age:l}}return e.bio?e.bio=k.sanitize(e.bio):e.bio="",e},treant:function(e){var n='<div class="person-group '.concat(e.spouse&&e.spouse.length?"--married":"--unmarried",'">'),t=function(e){var n='<div class="person" id="'.concat(e.id,'">');return n+='<p class="name">'.concat(e.name,"</p>"),n+="</div>"};if(e.self&&(n+=t(e.self)),e.spouse&&e.spouse.length)for(var s=0;s<e.spouse.length;s++)e.spouse[s]&&(n+=t(e.spouse[s]));return n+"</div>"}},C=function(e){if(e.self&&(e.self=(0,j.Z)({},E.data(e.self))),e.spouse&&e.spouse.length)for(var n=0;n<e.spouse.length;n++)e.spouse[n]&&(e.spouse[n]=(0,j.Z)({},E.data(e.spouse[n])));e.innerHTML=E.treant(e),delete e.self,delete e.spouse},S=function(e){var n=JSON.parse(JSON.stringify(e)),t=[],s=n;for(t.push(n);t.length;)C(s=t.shift()),s.children&&s.children.length&&(t=t.concat(s.children));return n},Q=function(e,n){var t=[],s=n,r=[];for(t.push(n);t.length;)if(s=t.shift()){if(s.self&&s.self.id.includes(e)&&r.push(s.self),s.spouse&&s.spouse.length)for(var a=0;a<s.spouse.length;a++)s.spouse[a].id.includes(e)&&r.push(s.spouse[a]);s.children&&s.children.length&&(t=t.concat(s.children))}return r},D=function(e,n){var t=[],s=n;for(t.push(n);t.length;)if(s=t.shift()){var r=null;if(s.self&&s.self.id==e&&(r=s.self),s.spouse&&s.spouse.length)for(var a=0;a<s.spouse.length;a++)s.spouse[a].id==e&&(r=s.spouse[a]);if(r)return E.data(r);s.children&&s.children.length&&(t=t.concat(s.children))}return null},B=function(e){var n=e.treeData,t=void 0===n?null:n,a=(0,r.useState)(""),l=a[0],i=a[1],c=(0,r.useState)([]),d=c[0],u=c[1],A=function(e){i(e.target.value.toLowerCase()),u(Q(l,t))},m=function(e){i(""),u([]),window.document.dispatchEvent(new CustomEvent("show-person-detail",{detail:e}))};return(0,s.jsxs)("div",{className:"relative flex-grow md:max-w-xs",children:[(0,s.jsxs)("div",{className:"flex items-center border-2 border-gray-200 rounded px-2 py-1 bg-gray-200",children:[(0,s.jsx)("span",{className:"text-black",children:(0,s.jsx)(o.dVI,{})}),(0,s.jsx)("input",{type:"text",value:l,className:"pl-2 outline-none w-full text-black bg-gray-200",onChange:A})]}),d.length>0&&(0,s.jsx)("div",{className:"absolute bg-gray-50 rounded z-10 w-full shadow-md",children:(0,s.jsx)("div",{className:"flex flex-col",children:d.map(function(e){return(0,s.jsx)("div",{onClick:function(){return m(e.id)},className:"cursor-pointer py-2 mx-2 my-1 text-black hover:text-gray-900",children:e.name},e.id)})})})]})},I=t(196),M=function(e){var n=e.activePersonId,t=e.onActivePersonRemove,a=r.createRef(),l=null,d=(0,r.useState)(!1),u=d[0],A=d[1],m=(0,r.useState)(null),h=m[0],x=m[1],g=(0,r.useState)(null),p=g[0],b=g[1],j=function(e){Treant&&p&&!l&&(l=new Treant({chart:{container:"#family-tree",levelSeparation:50,nodeAlign:"BOTTOM",rootOrientation:"NORTH",connectors:{type:"step",style:{"arrow-end":"open-wide-medium",stroke:"#998B70","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"}},node:{HTMLclass:"node"}},nodeStructure:S(p)},function(){if(e&&e(),a.current){var n=a.current;n.scrollLeft=n.scrollWidth/2-n.getBoundingClientRect().width/2}window.document.querySelectorAll(".person").forEach(function(e){e.addEventListener("click",function(n){var t=e.getAttribute("id");window.document.dispatchEvent(new CustomEvent("show-person-detail",{detail:t}))})})}))},w=function(){x(null),t()};return(0,r.useEffect)(function(){I.ZP.get("family-tree-data.json").then(function(e){b(e.data)}).catch(function(e){return console.log(e)})},[]),(0,r.useEffect)(function(){j(function(){if(n){var e=D(n,p);e&&x(e)}})},[p]),(0,r.useEffect)(function(){var e=D(n,p);if(e){x(e);var t=document.getElementById(n+"");t&&(t.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),Array.from(document.querySelectorAll(".person")).forEach(function(e){e.children[0].classList.remove("!text-red-800")}),t.children[0].classList.add("!text-red-800"))}},[n]),(0,s.jsxs)("section",{id:"chronicles",className:"rounded-md bg-center bg-no-repeat bg-cover",style:{backgroundImage:"url(".concat(i.src,")")},children:[(0,s.jsx)("div",{className:"container relative hidden md:block",children:(0,s.jsx)("div",{className:"absolute transform -translate-y-full top-0 right-0 w-full bg-contain bg-no-repeat bg-right-top",style:{backgroundImage:"url(/images/tree-with-hands.png)",height:"35rem"}})}),(0,s.jsxs)("div",{className:"mx-auto px-4",children:[(0,s.jsxs)("div",{className:"toolbar flex flex-wrap items-center justify-between pt-2",children:[(0,s.jsxs)("div",{className:"text-black bg-gray-200 rounded p-2 flex-grow mb-2 md:flex-grow-0 md:mb-0",children:["बंशावाली: वि.सं xxxx \xa0","देखी आजसम्म"]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(B,{treeData:p}),(0,s.jsx)("a",{href:"https://forms.gle/wekzeMbY77AZdQR56",target:"_blank",rel:"noreferrer",className:"bg-gray-200 border-2 rounded-md px-3 py-2 mx-2",children:(0,s.jsx)(o.im1,{})}),(0,s.jsx)("button",{onClick:function(){return A(!0)},className:"bg-gray-200 border-2 rounded-md px-3 py-2",title:"Download",children:(0,s.jsx)(o.eEq,{})})]})]}),(0,s.jsx)("div",{className:"relative overflow-x-auto",children:(0,s.jsx)("div",{id:"family-tree",ref:a,className:"rounded-md",children:(0,s.jsx)(c.koH,{className:"text-5xl my-16 mx-auto text-gray-500 animate-spin"})})})]}),h&&(0,s.jsx)(f,{person:h,onClose:w}),u&&(0,s.jsx)(v,{familyTreeRef:a.current,onClose:function(){return A(!1)}})]})},L=t(1163),T=function(){var e=(0,L.useRouter)(),n=null;window.document.addEventListener("show-person-detail",function(n){e.push("?name="+n.detail)}),e.query.name&&(n=e.query.name+"");var t=function(){n&&(n=null)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l(),{children:(0,s.jsx)("title",{children:"पौडेल परिवार"})}),(0,s.jsx)("section",{id:"hero",className:"container py-16 md:pt-36 md:pb-32",children:(0,s.jsxs)("main",{className:"text-center md:text-left font-Mukta text-black",children:[(0,s.jsx)("h1",{className:"text-6xl md:text-6xl font-semibold mb-12 md:mb-16",children:"स्वागतम्"}),(0,s.jsxs)("p",{className:"text-2xl md:text-3xl md:w-1/2 md:max-w-xl leading-10",children:["यस पृष्ठमा भद्रबास र वरिपरिका निवासी पौडेल परिवार तथा उनीहरुका इस्टमित्रहरु को जानकारी समावेश गरिएको छ ।",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"नयाँ पुस्ताहरूलाई उनीहरूको पारिवारिक इतिहास र परिवारका सदस्यहरूको बारेमा थप जान्नको लागि यसले सन्दर्भको रूपमा सेवा गर्ने लक्ष्य राख्छ ।"]})]})}),(0,s.jsx)("div",{className:"px-0 md:px-8 mx-auto my-4 mb-16",children:(0,s.jsx)(M,{activePersonId:n,onActivePersonRemove:t})})]})}}},function(e){e.O(0,[445,885,243,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);